# CI profile configuration
# Activate with: spring.profiles.active=ci
# This profile is used during CI/CD pipeline smoke tests

spring:
  # Ensure Flyway runs migrations in CI
  flyway:
    enabled: true
    baseline-on-migrate: true
    baseline-version: 0
    locations: classpath:db/migration

management:
  endpoint:
    health:
      show-details: always  # Show detailed health info in CI for debugging
  endpoints:
    web:
      exposure:
        include: health,info

# Override any production security settings if needed
# Note: SecurityConfig already allows public access to /actuator/health
# This profile ensures actuator endpoints are accessible during CI
